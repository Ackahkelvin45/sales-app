{% extends 'chrisco/layout.html'%}
{% load static %}
{%block body%}
<div class="w-full max-1xl:pl-[25%] max-md:pl-[33%] max-900px:pl-[28%]  pl-[20%] max-sm:pl-0  transform duration-500 mt-16 overflow-x-hidden" id="index-body">
    <div class="w-full  flex-col  items-center flex ">
        <div class="w-full h-52 bg-gradient-to-br from-green-500 to-slate-400 flex flex-col p-10 text-gray-100">
            <div class="w-full flex flex-row">
                <svg  version="1.0" xmlns="http://www.w3.org/2000/svg"   class="400px:h-[50px] 400px:w-[50px] w-[30px] h-[30px]" viewBox="0 0 96.000000 96.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,96.000000) scale(0.100000,-0.100000)" fill="#f3f4fa" stroke="none"> <path d="M166 816 c-45 -27 -75 -76 -76 -125 0 -73 76 -151 149 -151 75 0 151 75 151 149 0 51 -35 108 -80 131 -52 26 -96 25 -144 -4z m124 -61 c0 -10 -10 -15 -30 -15 -20 0 -30 -5 -30 -15 0 -8 8 -15 18 -15 41 0 59 -60 23 -80 -30 -15 -71 -13 -71 5 0 9 9 15 24 15 14 0 28 5 32 11 9 14 -16 30 -38 25 -15 -3 -18 3 -18 33 0 47 4 51 52 51 27 0 38 -4 38 -15z m-116 -73 c8 -14 -12 -55 -23 -47 -17 10 -22 59 -9 89 l12 30 7 -30 c3 -17 9 -36 13 -42z m170 35 c3 -12 3 -33 -1 -46 -5 -21 -7 -20 -19 15 -17 49 -17 54 0 54 8 0 16 -10 20 -23z"/> <path d="M696 798 c-9 -36 -8 -38 29 -38 19 0 35 -4 35 -10 0 -5 -3 -10 -7 -10 -5 0 -62 -40 -128 -89 -118 -87 -120 -88 -134 -67 -8 11 -15 22 -17 24 -1 2 -88 -58 -193 -133 -169 -120 -190 -138 -181 -155 6 -10 14 -21 18 -24 4 -3 82 49 173 114 l164 118 22 -24 21 -23 146 110 c80 60 148 109 150 109 3 0 4 -6 2 -12 -3 -7 -7 -25 -10 -40 -6 -26 -4 -28 27 -28 l34 0 7 68 c4 37 8 76 9 87 2 16 -8 21 -68 31 -94 17 -92 17 -99 -8z"/> <path d="M810 360 l0 -210 30 0 30 0 0 210 0 210 -30 0 -30 0 0 -210z"/> <path d="M690 330 l0 -180 30 0 30 0 0 180 0 180 -30 0 -30 0 0 -180z"/> <path d="M570 300 l0 -150 30 0 30 0 0 150 0 150 -30 0 -30 0 0 -150z"/> <path d="M450 270 l0 -120 30 0 30 0 0 120 0 120 -30 0 -30 0 0 -120z"/> <path d="M330 240 l0 -90 30 0 30 0 0 90 0 90 -30 0 -30 0 0 -90z"/> <path d="M210 210 c0 -60 0 -60 30 -60 30 0 30 0 30 60 0 60 0 60 -30 60 -30 0 -30 0 -30 -60z"/> <path d="M90 180 c0 -27 3 -30 30 -30 27 0 30 3 30 30 0 27 -3 30 -30 30 -27 0 -30 -3 -30 -30z"/> </g> </svg>  
            <span class="mx-2 400px:text-3xl  text-lg  mt-1"> Sale  Detail</span>
            
            </div>
            
        </div>

        <div class="w-[95%]  bg-gray-100 z-10 -mt-14 rounded-md flex flex-col md:p-10 p-6 text-gray-600 mb-14 h-screen">
      <div  class="w-full flex-col ">
        <div class="flex md:flex-row flex-col w-full">
            <div class="md:w-1/2 w-full">
                <span class="font-bold">Customer  Name:</span><span  class="ml-2">{{sale.customer_name}}</span>
            </div>
            <div class="md:w-1/2 w-full mt-4 md:my-0">
                <span class="font-bold">Serial Number:</span><span  class="ml-2">{{sale.serial_number}}</span>
            </div>

        </div>
        <div class="flex md:flex-row flex-col w-full my-4">
            <div class="md:w-1/2 w-full">
                <span class="font-bold">Sale  Date:</span><span  class="ml-2"> {{sale.created_date}}</span>
            </div>
            <div class="md:w-1/2 w-full mt-4 md:my-0">
                <span class="font-bold">Recorder:</span><span  class="ml-2">{{sale.created_by}}</span>
            </div>

        </div>
        <div class="flex md:flex-row flex-col w-full  my-4">
            <div class="md:w-1/2 w-full">
                <span class="font-bold">Total Price:</span><span  class="ml-2 text-cyan-500">GH₵  {{sale.total_price}}</span>
            </div>
            <div class="md:w-1/2 w-full mt-4 md:my-0">
                <span class="font-bold">Paid Price:</span><span  class="ml-2  text-green-500">GH₵  {{sale.paid_price}}</span>
            </div>

        </div>
        <div class="flex md:flex-row flex-col w-full">
            <div class="md:w-1/2 w-full">
                <span class="font-bold">Due  Amount:</span><span  class="ml-2  text-red-500">GH₵ {{sale.due_price}}</span>
            </div>
            <div class="md:w-1/2 w-full mt-4 md:my-0">
                <span class="font-bold">Debt:</span><span  class="ml-2">{{sale.debt}}</span>
            </div>

        </div>


        <div class="relative overflow-x-auto my-10">

            <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400 rounded-md">
                <thead class="text-xs text-gray-700 uppercase bg-gray-200 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <th scope="col" class="px-6 py-3  ">
                            Product name
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Price
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Quantity
                        </th>
                        
                    </tr>
                </thead>
                <tbody>
                   
                    {% for product in sale.products.all%}
                    <tr class="bg-white dark:bg-gray-800 border-b    border-gray-200">
                        
                      
                      <th scope="row" class="px-6 py-4 text-gray-600  ">
                         
                                   {{product.product.name}} 
                      </th>
                      <td class="px-6 py-4">
                       GH₵  {{product.total_price}} 
                      </td>
                      <td class="px-6 py-4">
                        {{product.quantity}} 
                      </td>
                      
                    </tr>
                    {%endfor%}
               
                    
                    
                </tbody>
                <tfoot>
                    <tr class="font-semibold text-gray-900 dark:text-white bg-gray-200">
                        <th scope="row" class="px-6 py-3 text-base">Total</th>
                        <td class="px-6 py-3">{{sale.total_price}}</td>
                        <td class="px-6 py-3">{{sale.total_quantity}}</td>
                    </tr>
                </tfoot>
            </table>
        
        
            
        </div>

        <div class="flex flex-row" >
            <span class="font-bold ">Notes:</span><span class="ml-2">{{sale.notes}}</span>


        </div>
        


        

 
  




      </div>
      <div  class="w-full  flex justify-end">
        <a  href="{% url 'sales:download-sale' sale.id %}" class="focus:outline-none text-white bg-green-600 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Download</a>
         
      
    
      </div>
 
        </div>
      
        </div>

    </div>
 
{%endblock%}